<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    const map = new Map()
    const weakmap = new WeakMap()
    function test() {
      const foo = { a: 1}
      map.set('a', 1)
      // weakmap.set('b', 2)
      weakmap.set(foo, 2)
      console.log(map.get('a'))
      console.log(weakmap.get(foo))
    }
    test()

    console.log(map)
    // weakmap是弱引用
    console.log(weakmap)

    // 为什么vue3使用weakmap
    // 因为weakmap是弱引用，组件中的响应式对象如果用不到了，应该被内存回收掉
    // 而vue中存储的那些副作用也应该对应销毁掉

  </script>
</body>
</html>
